# DoganAI Compliance Kit - Service Catalog
# Defines ownership, SLA tiers, change classification, and maintenance schedules

version: "1.0"
last_updated: "2025-08-29T11:00:00Z"
owner: "platform-team"

# Service Registry
services:
  doganai-compliance-kit:
    metadata:
      name: "DoganAI Compliance Kit"
      description: "Enterprise compliance and operations platform"
      version: "1.0.0"
      environment: "production"
      created_date: "2025-08-29"
      last_updated: "2025-08-29T11:00:00Z"
      
    ownership:
      primary_owner:
        team: "platform-team"
        email: "platform@dogan.ai"
        slack: "#platform-team"
        manager: "engineering-manager@dogan.ai"
        
      secondary_owners:
        - team: "devops-team"
          email: "devops@dogan.ai"
          slack: "#devops-team"
          responsibility: "infrastructure"
          
        - team: "security-team"
          email: "security@dogan.ai"
          slack: "#security-team"
          responsibility: "security_compliance"
          
      stakeholders:
        - team: "product-team"
          email: "product@dogan.ai"
          role: "product_owner"
          
        - team: "customer-success"
          email: "support@dogan.ai"
          role: "customer_advocate"
          
    sla_tier:
      tier: "critical"
      availability_target: "99.9%"
      response_time_target: "500ms"
      error_rate_target: "0.1%"
      recovery_time_objective: "15 minutes"
      recovery_point_objective: "1 hour"
      
      support_hours:
        business_hours: "24/7"
        on_call_rotation: true
        escalation_policy: "immediate"
        
      incident_response:
        p0_response_time: "5 minutes"
        p1_response_time: "15 minutes"
        p2_response_time: "2 hours"
        p3_response_time: "24 hours"
        
    change_classification:
      change_approval_board: "platform-team"
      
      change_types:
        emergency:
          approval_required: false
          rollback_plan_required: true
          post_change_review: true
          examples:
            - "security_patches"
            - "critical_bug_fixes"
            - "service_outage_resolution"
            
        standard:
          approval_required: true
          testing_required: true
          rollback_plan_required: true
          change_window: "business_hours"
          examples:
            - "feature_releases"
            - "configuration_updates"
            - "dependency_upgrades"
            
        normal:
          approval_required: true
          testing_required: true
          rollback_plan_required: false
          change_window: "maintenance_window"
          examples:
            - "documentation_updates"
            - "monitoring_adjustments"
            - "log_level_changes"
            
    maintenance_schedule:
      regular_maintenance:
        weekly:
          day: "sunday"
          time: "02:00-04:00 UTC"
          duration: "2 hours"
          activities:
            - "database_maintenance"
            - "log_rotation"
            - "backup_verification"
            - "security_scan_review"
            
        monthly:
          day: "first_sunday"
          time: "02:00-06:00 UTC"
          duration: "4 hours"
          activities:
            - "security_updates"
            - "dependency_updates"
            - "performance_review"
            - "capacity_planning"
            - "disaster_recovery_test"
            
        quarterly:
          schedule: "first_sunday_of_quarter"
          time: "02:00-08:00 UTC"
          duration: "6 hours"
          activities:
            - "major_version_upgrades"
            - "architecture_review"
            - "security_audit"
            - "business_continuity_test"
            - "runbook_review"
            
      emergency_maintenance:
        approval_process: "emergency_change_board"
        notification_time: "immediate"
        rollback_time: "30 minutes"
        
    dependencies:
      upstream:
        - service: "postgresql-database"
          criticality: "critical"
          sla_dependency: true
          
        - service: "redis-cache"
          criticality: "high"
          sla_dependency: false
          
        - service: "regulatory-data-api"
          criticality: "medium"
          sla_dependency: false
          
      downstream:
        - service: "compliance-dashboard"
          impact: "high"
          
        - service: "audit-reporting"
          impact: "medium"
          
        - service: "customer-portal"
          impact: "low"
          
    monitoring:
      health_checks:
        - endpoint: "/health"
          interval: "30s"
          timeout: "5s"
          
        - endpoint: "/observability/status"
          interval: "60s"
          timeout: "10s"
          
      metrics:
        - name: "api_requests_total"
          type: "counter"
          alert_threshold: "error_rate > 1%"
          
        - name: "api_request_duration_seconds"
          type: "histogram"
          alert_threshold: "p95 > 2s"
          
        - name: "feature_flag_evaluations_total"
          type: "counter"
          alert_threshold: "error_rate > 5%"
          
      dashboards:
        - name: "compliance-kit-overview"
          url: "https://grafana.doganai.com/d/compliance-kit"
          
        - name: "compliance-kit-detailed"
          url: "https://grafana.doganai.com/d/compliance-kit-detailed"
          
    compliance:
      frameworks:
        - "SOC2"
        - "ISO27001"
        - "GDPR"
        - "CCPA"
        
      audit_requirements:
        - "audit_logging_enabled"
        - "data_encryption_at_rest"
        - "data_encryption_in_transit"
        - "access_control_implemented"
        - "backup_retention_policy"
        
      data_classification:
        - type: "personal_data"
          retention: "7 years"
          encryption: "required"
          
        - type: "audit_logs"
          retention: "10 years"
          encryption: "required"
          
        - type: "system_logs"
          retention: "90 days"
          encryption: "optional"

# Component Registry
components:
  compliance-report-generator:
    metadata:
      name: "Compliance Report Generator"
      description: "Core feature for generating compliance reports"
      parent_service: "doganai-compliance-kit"
      
    ownership:
      primary_owner:
        team: "platform-team"
        email: "platform@dogan.ai"
        
    sla_tier:
      tier: "critical"
      availability_target: "99.9%"
      response_time_target: "2s"
      
    change_classification:
      default_type: "standard"
      
    feature_flags:
      - name: "compliance_report_generator"
        strategy: "gradual"
        rollout_percentage: 100
        
  observability-system:
    metadata:
      name: "Observability System"
      description: "Monitoring, logging, and metrics collection"
      parent_service: "doganai-compliance-kit"
      
    ownership:
      primary_owner:
        team: "devops-team"
        email: "devops@dogan.ai"
        
    sla_tier:
      tier: "high"
      availability_target: "99.5%"
      
  feature-flag-system:
    metadata:
      name: "Feature Flag System"
      description: "Configuration-driven feature rollout management"
      parent_service: "doganai-compliance-kit"
      
    ownership:
      primary_owner:
        team: "platform-team"
        email: "platform@dogan.ai"
        
    sla_tier:
      tier: "high"
      availability_target: "99.5%"

# Governance Policies
governance:
  policies:
    change_management:
      name: "Change Management Policy"
      version: "1.0"
      effective_date: "2025-08-29"
      
      requirements:
        - "All changes must be tracked in service catalog"
        - "Standard changes require approval from service owner"
        - "Emergency changes require post-change review"
        - "Rollback plans required for all production changes"
        
    incident_management:
      name: "Incident Management Policy"
      version: "1.0"
      effective_date: "2025-08-29"
      
      requirements:
        - "All incidents must be logged and tracked"
        - "P0/P1 incidents require immediate escalation"
        - "Post-incident reviews required for all P0/P1 incidents"
        - "Runbooks must be updated based on incident learnings"
        
    security_governance:
      name: "Security Governance Policy"
      version: "1.0"
      effective_date: "2025-08-29"
      
      requirements:
        - "Security reviews required for all new features"
        - "Vulnerability scans required before production deployment"
        - "Security patches must be applied within 48 hours"
        - "Access reviews conducted quarterly"
        
  review_schedule:
    service_catalog:
      frequency: "monthly"
      owner: "platform-team"
      next_review: "2025-09-29"
      
    sla_targets:
      frequency: "quarterly"
      owner: "engineering-manager"
      next_review: "2025-11-29"
      
    governance_policies:
      frequency: "annually"
      owner: "engineering-director"
      next_review: "2026-08-29"

# Metrics and KPIs
metrics:
  service_health:
    - name: "availability"
      target: "99.9%"
      measurement: "uptime_percentage"
      
    - name: "response_time"
      target: "500ms"
      measurement: "p95_response_time"
      
    - name: "error_rate"
      target: "0.1%"
      measurement: "error_percentage"
      
  operational_excellence:
    - name: "change_success_rate"
      target: "95%"
      measurement: "successful_changes_percentage"
      
    - name: "incident_resolution_time"
      target: "15 minutes"
      measurement: "mean_time_to_resolution"
      
    - name: "deployment_frequency"
      target: "daily"
      measurement: "deployments_per_day"
      
  governance_compliance:
    - name: "policy_compliance"
      target: "100%"
      measurement: "compliant_services_percentage"
      
    - name: "documentation_coverage"
      target: "95%"
      measurement: "documented_services_percentage"
      
    - name: "review_completion"
      target: "100%"
      measurement: "completed_reviews_percentage"